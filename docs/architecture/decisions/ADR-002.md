## ADR-002: Аутентифікація за допомогою JWT токенів
- **Статус:** Прийнято
- **Дата:** 2025-09-30

**Контекст**
- FR-003, FR-004, FR-012: система повинна підтримувати аутентифікацію користувачів та різні рівні доступу для них
- SEC-01, SEC-03, SEC-04: потрібен захист сесій, обмеження спроб входу та безпечна передача даних

**Рішення**
- Використовувати *JWT* для авторизації API-запитів
  - Access token живе мало (15–30 хв)
  - Refresh token живе більше (7–30 днів)
  - можливість хешувати його в базі з прив’язкою до користувача та унікального айді
- Підписувати токени простим ключем (*HS256* або *RS256*)
- Використовувати унікальний айді токена для можливості відкликання

**Наслідки (переваги)**
- Система не зберігає стан сесій, отже буде легше масштабувати надалі
- Зручно працювати з фронтендом і мобільними клієнтами
- Можна задавати різні доступи для користувачів 

**Наслідки (ризики)**
- Відкликати JWT складніше, отже потрібен механізм revocation
- Неправильне зберігання refresh token на клієнті робить його вразливим до атак, що загрожує безпеці

**Розглянуті альтернативи**
1. Серверні сесії та cookies — відхилено: важко масштабувати для API та мобільних застосунків
2. Opaque tokens — відхилено: безпечніше для відкликання, але додає потребу в базі