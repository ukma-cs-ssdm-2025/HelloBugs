{% extends "base.html" %}

{% block title %}Відгуки - Готель Хрещатик{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1 class="page-title">ВІДГУКИ ГОСТЕЙ</h1>
        <p class="page-subtitle">Дізнайтеся, що наші гості кажуть про нас</p>
        
        <div class="reviews-stats" id="reviews-stats">
            <div class="stat-item">
                <span class="stat-value" id="average-rating">0</span>
                <span class="stat-label">Середній рейтинг</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="total-reviews">0</span>
                <span class="stat-label">Відгуків</span>
            </div>
        </div>
    </div>
</section>

<section id="reviews-list" class="reviews-section">
    <div class="container">
        <div id="reviews-container" class="reviews-grid">
            <div class="loading">Завантаження відгуків...</div>
        </div>

        <div id="empty-state" style="display: none;" class="empty-state">
            <svg width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
            </svg>
            <h3>Поки що немає відгуків</h3>
            <p>Станьте першим, хто залишить відгук про наш готель</p>
            <a href="/reviews/create" class="btn btn-primary auth-only" style="display: none;">Залишити відгук</a>
        </div>
    </div>
</section>

<!-- Модалка для редагування відгуку -->
<div id="edit-review-modal" class="modal">
    <div class="modal-content">
        <span id="edit-close-modal" class="close">&times;</span>
        <h2>Редагувати відгук</h2>

        <form id="edit-review-form">
            <input type="hidden" id="edit_review_id" name="review_id">

            <div class="form-group">
                <label for="edit-rating">Рейтинг:*</label>
                <div class="star-rating" id="edit-star-rating">
                    <span class="star" data-rating="1">★</span>
                    <span class="star" data-rating="2">★</span>
                    <span class="star" data-rating="3">★</span>
                    <span class="star" data-rating="4">★</span>
                    <span class="star" data-rating="5">★</span>
                </div>
                <input type="hidden" id="edit-rating" name="rating" required>
            </div>

            <div class="form-group">
                <label for="edit-comment">Коментар:</label>
                <textarea id="edit-comment" name="comment" rows="5" maxlength="1000"></textarea>
            </div>

            <div class="modal-buttons">
                <button type="submit" class="btn btn-primary btn-small">Зберегти зміни</button>
                <button type="button" id="edit-cancel-modal-btn" class="btn btn-secondary btn-small">Скасувати</button>
            </div>
        </form>
    </div>
</div>

<script src="{{ url_for('static', filename='js/reviews.js') }}"></script>
{% endblock %}
