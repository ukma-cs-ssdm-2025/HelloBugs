{% extends "base.html" %}

{% block title %}Номери - Готель Хрещатик{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1 class="page-title">НАШІ НОМЕРИ</h1>
        <p class="page-subtitle">Оберіть ідеальний номер для вашого комфортного перебування</p>
        
        <div class="admin-only" style="display: none; margin-top: 20px;">
            <button class="btn btn-success" onclick="openAddRoomModal()">
                + Додати новий номер
            </button>
        </div>
    </div>
</section>

<section class="filters-section">
    <div class="container">
        <div class="filters">
            <div class="filter-group">
                <label for="filter-checkin">Дата заїзду:</label>
                <input type="date" id="filter-checkin" class="filter-input">
            </div>
            
            <div class="filter-group">
                <label for="filter-checkout">Дата виїзду:</label>
                <input type="date" id="filter-checkout" class="filter-input">
            </div>
            
            <div class="filter-group">
                <label for="filter-type">Тип номера:</label>
                <select id="filter-type" class="filter-select">
                    <option value="">Всі типи</option>
                    <option value="ECONOMY">Економ</option>
                    <option value="STANDARD">Стандарт</option>
                    <option value="DELUXE">Делюкс</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="filter-capacity">Кількість гостей:</label>
                <select id="filter-capacity" class="filter-select">
                    <option value="">Всі</option>
                    <option value="1">1 гість</option>
                    <option value="2">2 гостей</option>
                    <option value="3">3 гостей</option>
                    <option value="4">4+ гостей</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="filter-price">Ціна за ніч:</label>
                <select id="filter-price" class="filter-select">
                    <option value="">Всі ціни</option>
                    <option value="0-2000">До 2000 грн</option>
                    <option value="2000-4000">2000 - 4000 грн</option>
                    <option value="4000-6000">4000 - 6000 грн</option>
                    <option value="6000+">Від 6000 грн</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="filter-sort">Сортування:</label>
                <select id="filter-sort" class="filter-select">
                    <option value="">За замовчуванням</option>
                    <option value="price-asc">Ціна: за зростанням</option>
                    <option value="price-desc">Ціна: за спаданням</option>
                    <option value="capacity-asc">Гості: за зростанням</option>
                    <option value="capacity-desc">Гості: за спаданням</option>
                </select>
            </div>
            
            <button class="btn btn-primary" onclick="applyFilters()">Застосувати фільтри</button>
            <button class="btn btn-secondary" onclick="resetFilters()">Скинути</button>       
         </div>
    </div>
</section>


<section class="rooms-section">
    <div class="container">
        <div id="rooms-container" class="rooms-grid">
            <div class="loading">Завантаження номерів...</div>
        </div>
    </div>
</section>


<section class="amenities-section">
    <div class="container">
        <h2 class="section-title">ЗРУЧНОСТІ В УСІХ НОМЕРАХ</h2>
        <div class="amenities-grid">
            <div class="amenity-item">
                <h3>Безкоштовний Wi-Fi</h3>
            </div>
            <div class="amenity-item">
                <h3>Кондиціонер</h3>
            </div>
            <div class="amenity-item">
                <h3>Міні-бар</h3>
            </div>
            <div class="amenity-item">
                <h3>Сейф</h3>
            </div>
        </div>
    </div>
</section>

<!-- Модальне вікно для додавання/редагування номера -->
<div id="roomModal" class="modal" style="display: none;">
    <div class="modal-content">
        <button type="button" class="close" onclick="closeRoomModal()" aria-label="Закрити модальне вікно">&times;</button>
        <h2 id="modalTitle">Додати номер</h2>
        <form id="roomForm">
            <input type="hidden" id="roomId">
            
            <div class="form-group">
                <label for="roomNumber">Номер кімнати*</label>
                <input type="text" id="roomNumber" required>
            </div>
            
            <div class="form-group">
                <label for="roomType">Тип номера*</label>
                <select id="roomType" required>
                    <option value="ECONOMY">Економ</option>
                    <option value="STANDARD">Стандарт</option>
                    <option value="DELUXE">Делюкс</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="maxGuest">Максимум гостей*</label>
                <input type="number" id="maxGuest" min="1" max="10" required>
            </div>
            
            <div class="form-group">
                <label for="basePrice">Базова ціна (грн)*</label>
                <input type="number" id="basePrice" min="0" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="roomStatus">Статус*</label>
                <select id="roomStatus" required>
                    <option value="AVAILABLE">Доступний</option>
                    <option value="OCCUPIED">Зайнятий</option>
                    <option value="MAINTENANCE">На обслуговуванні</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="floor">Поверх*</label>
                <input type="number" id="floor" min="1" max="50" required>
            </div>
            
            <div class="form-group">
                <label for="sizeSqm">Площа (м²)</label>
                <input type="number" id="sizeSqm" min="10" step="0.1">
            </div>
            
            <div class="form-group">
                <label for="description">Опис*</label>
                <textarea id="description" rows="4" required></textarea>
            </div>
            
            <div class="form-group">
                <label for="mainPhotoUrl">URL головного фото*</label>
                <input type="url" id="mainPhotoUrl">
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Зберегти</button>
                <button type="button" class="btn btn-secondary" onclick="closeRoomModal()">Скасувати</button>
            </div>
        </form>
    </div>
</div>

<script src="{{ url_for('static', filename='js/rooms.js') }}"></script>
{% endblock %}